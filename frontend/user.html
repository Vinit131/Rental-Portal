<!DOCTYPE html>
<html ng-app="userApp">
<head>
    <title>User Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="user.js"></script>
</head>
<body ng-controller="UserController" class="bg-light">

    <div class="container mt-4">
        <h1 class="mb-4 text-center text-primary">User Management</h1>

        <div class="card shadow-sm mb-5">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Add New User</h5>
            </div>
            <div class="card-body">
                <form ng-submit="addUser()">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label class="form-label">Name</label>
                            <input type="text" class="form-control" ng-model="newUser.name" placeholder="Full Name" required>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" ng-model="newUser.email" placeholder="email@example.com" required>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Phone</label>
                            <input type="text" class="form-control" ng-model="newUser.phone" placeholder="10-digit number" required pattern="[0-9]{10}" maxlength="10">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" ng-model="newUser.password" placeholder="Min 8 characters" required>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12 text-end">
                            <button type="submit" class="btn btn-success px-4">Create Account</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-hover bg-white shadow-sm rounded">
                <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Password</th>
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in users">
    <td>{{ $index + 1 }}</td>

    <td>
        <span ng-hide="user.editing">{{ user.name }}</span>
        <input type="text" class="form-control form-control-sm"
               ng-model="user.name" ng-show="user.editing">
    </td>

    <td>
        <span ng-hide="user.editing">{{ user.email }}</span>
        <input type="email" class="form-control form-control-sm"
               ng-model="user.email" ng-show="user.editing">
    </td>

    <td>
        <span ng-hide="user.editing">{{ user.phone }}</span>
        <input type="text" class="form-control form-control-sm"
               ng-model="user.phone" ng-show="user.editing">
    </td>

    <td>
        <span ng-hide="user.editing" class="text-muted">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
        <input type="password" class="form-control form-control-sm"
               ng-model="user.password"
               ng-show="user.editing"
               placeholder="Leave blank to keep same">
    </td>

    <!-- ðŸ”¥ ACTIONS COLUMN (THIS WAS MISSING / INVISIBLE) -->
    <td>
    <!-- Edit -->
    <button class="btn btn-sm btn-primary"
            ng-show="!user.editing"
            ng-click="editUser(user)">
        Edit
    </button>

    <!-- Save -->
    <button class="btn btn-sm btn-success"
            ng-show="user.editing"
            ng-click="saveUser(user)">
        Save
    </button>

    <!-- Cancel -->
    <button class="btn btn-sm btn-warning"
            ng-show="user.editing"
            ng-click="cancelEdit(user)">
        Cancel
    </button>

    <!-- Delete -->
    <button class="btn btn-sm btn-danger"
            ng-show="!user.editing"
            ng-click="deleteUser(user)">
        Delete
    </button>
</td>

